import{a as R}from"./chunk-OBVFQ6LK.js";import{a as $}from"./chunk-3H47RNCB.js";import"./chunk-SV357ZSJ.js";import{a as F}from"./chunk-DHB2NESA.js";import{a as V}from"./chunk-MIVUDULC.js";import"./chunk-CNSO5OT4.js";import"./chunk-Q3TZLTSU.js";import{g as D,j as z}from"./chunk-2PYGAOTR.js";import{Aa as k,Ca as r,Jb as I,Ka as T,Nb as L,P,Pa as m,V as x,Va as u,W as f,Xa as b,Za as g,_a as E,ab as O,bb as w,cb as n,db as i,eb as M,fb as C,gb as v,hb as s,ib as a,jb as h,kb as _,lb as S,rb as y}from"./chunk-VSPMBJVT.js";import"./chunk-2VMXMS7J.js";var A=e=>["/products",e],B=(e,c)=>c.id;function N(e,c){if(e&1&&(n(0,"div",2)(1,"h1"),a(2,"Resultados da Busca \u{1F50D}"),i(),n(3,"p"),a(4,"Buscando por: "),n(5,"strong"),a(6),i()(),n(7,"p",5),a(8),i()()),e&2){let t=s();r(6),_('"',t.searchTerm,'"'),r(2),S("",t.products.length," ",t.products.length===1?"produto encontrado":"produtos encontrados","")}}function Y(e,c){e&1&&(n(0,"div",3)(1,"h1"),a(2,"Ofertas Imperd\xEDveis \u{1F525}"),i(),n(3,"p"),a(4,"Descontos de at\xE9 50% em produtos selecionados"),i()())}function q(e,c){e&1&&(n(0,"div",4),M(1,"div",6),n(2,"p"),a(3,"Carregando produtos incr\xEDveis..."),i()())}function U(e,c){if(e&1&&(n(0,"div",11),a(1),i()),e&2){let t=s().$implicit,o=s(3);r(),_(" -",o.getDiscountPercentage(t),"% ")}}function K(e,c){if(e&1){let t=C();n(0,"button",32),v("click",function(d){x(t);let l=s().$implicit,p=s(3);return f(p.prevImage(l.id,d))}),a(1,"\u2039"),i()}}function G(e,c){if(e&1){let t=C();n(0,"button",33),v("click",function(d){x(t);let l=s().$implicit,p=s(3);return f(p.nextImage(l.id,d))}),a(1,"\u203A"),i()}}function H(e,c){if(e&1){let t=C();n(0,"span",35),v("click",function(d){let l=x(t).$index,p=s(2).$implicit,j=s(3);return f(j.setImageIndex(p.id,l,d))}),i()}if(e&2){let t=c.$index,o=s(2).$implicit,d=s(3);b("active",d.getCurrentImageIndex(o.id)===t)}}function J(e,c){if(e&1&&(n(0,"div",18),O(1,H,1,2,"span",34,E),i()),e&2){let t=s().$implicit;r(),w(t.images)}}function Q(e,c){if(e&1&&(n(0,"span",36),a(1),i(),n(2,"span",37),a(3),i()),e&2){let t=s().$implicit;r(),_("R$ ",t.price.toFixed(2),""),r(2),_("R$ ",t.discountPrice.toFixed(2),"")}}function W(e,c){if(e&1&&(n(0,"span",29),a(1),i()),e&2){let t=s().$implicit;r(),_("R$ ",t.price.toFixed(2),"")}}function X(e,c){e&1&&(n(0,"span"),a(1,"\u2713 Adicionado"),i())}function Z(e,c){e&1&&(n(0,"span"),a(1,"\u{1F6D2} Adicionar"),i())}function tt(e,c){if(e&1&&(n(0,"div",31),a(1),i()),e&2){let t=s().$implicit;r(),_(" \u26A0\uFE0F Apenas ",t.stock," em estoque! ")}}function et(e,c){if(e&1){let t=C();n(0,"div",10),m(1,U,2,1,"div",11),n(2,"div",12)(3,"div",13),m(4,K,2,0,"button",14),n(5,"a",15),M(6,"img",16),i(),m(7,G,2,0,"button",17),i(),m(8,J,3,0,"div",18),i(),n(9,"div",19)(10,"span",20),a(11),i(),n(12,"a",21)(13,"h3",22),a(14),i()(),n(15,"p",23),a(16),i(),n(17,"div",24)(18,"span",25),a(19),i(),n(20,"span",26),a(21),i()(),n(22,"div",27)(23,"div",28),m(24,Q,4,2)(25,W,2,1,"span",29),i(),n(26,"button",30),v("click",function(d){let l=x(t).$implicit,p=s(3);return f(p.addToCart(l,d))}),m(27,X,2,0,"span")(28,Z,2,0,"span"),i()(),m(29,tt,2,1,"div",31),i()()}if(e&2){let t=c.$implicit,o=s(3);b("added",o.addedToCart.has(t.id)),r(),g(t.discountPrice?1:-1),r(3),u("ngIf",t.images.length>1),r(),u("routerLink",y(20,A,t.id)),r(),u("src",t.images[o.getCurrentImageIndex(t.id)],k)("alt",t.name),r(),u("ngIf",t.images.length>1),r(),g(t.images.length>1?8:-1),r(3),h(t.category),r(),u("routerLink",y(22,A,t.id)),r(2),h(t.name),r(2),h(t.description),r(3),_("\u2B50 ",t.rating,""),r(2),_("(",t.reviewCount," avalia\xE7\xF5es)"),r(3),g(t.discountPrice?24:25),r(2),b("added",o.addedToCart.has(t.id)),r(),g(o.addedToCart.has(t.id)?27:28),r(2),g(t.stock<10?29:-1)}}function nt(e,c){if(e&1&&(n(0,"div",7),O(1,et,30,24,"div",9,B),i()),e&2){let t=s(2);r(),w(t.products)}}function it(e,c){if(e&1&&(n(0,"h2"),a(1,"Nenhum produto encontrado"),i(),n(2,"p"),a(3,'N\xE3o encontramos resultados para "'),n(4,"strong"),a(5),i(),a(6,'"'),i(),n(7,"p"),a(8,"Tente buscar por outros termos ou navegue por nossas categorias"),i()),e&2){let t=s(3);r(5),h(t.searchTerm)}}function ot(e,c){e&1&&(n(0,"h2"),a(1,"Nenhum produto dispon\xEDvel"),i(),n(2,"p"),a(3,"Volte mais tarde para conferir nossas ofertas"),i())}function rt(e,c){if(e&1&&(n(0,"div",8)(1,"div",38),a(2,"\u{1F50D}"),i(),m(3,it,9,1)(4,ot,4,0),i()),e&2){let t=s(2);r(3),g(t.searchTerm?3:4)}}function at(e,c){if(e&1&&m(0,nt,3,0,"div",7)(1,rt,5,1,"div",8),e&2){let t=s();g(t.products.length>0?0:1)}}var ft=(()=>{class e{productService=P(R);cartService=P(F);route=P(D);products=[];allProducts=[];loading=!1;addedToCart=new Set;imageIndices=new Map;searchTerm="";ngOnInit(){this.route.queryParams.subscribe(t=>{this.searchTerm=t.search||"",this.allProducts.length>0&&this.filterProducts()}),this.loadProducts()}loadProducts(){this.loading=!0,setTimeout(()=>{this.allProducts=$;let t=this.route.snapshot.queryParams;this.searchTerm=t.search||"",this.filterProducts(),this.allProducts.forEach(o=>this.imageIndices.set(o.id,0)),this.loading=!1},800)}filterProducts(){if(!this.searchTerm.trim()){this.products=this.allProducts;return}let t=this.searchTerm.toLowerCase().trim();this.products=this.allProducts.filter(o=>o.name.toLowerCase().includes(t)||o.description.toLowerCase().includes(t)||o.category.toLowerCase().includes(t))}getCurrentImageIndex(t){return this.imageIndices.get(t)||0}nextImage(t,o){o.preventDefault(),o.stopPropagation();let d=this.products.find(l=>l.id===t);if(d){let p=((this.imageIndices.get(t)||0)+1)%d.images.length;this.imageIndices.set(t,p)}}prevImage(t,o){o.preventDefault(),o.stopPropagation();let d=this.products.find(l=>l.id===t);if(d){let p=((this.imageIndices.get(t)||0)-1+d.images.length)%d.images.length;this.imageIndices.set(t,p)}}setImageIndex(t,o,d){d.preventDefault(),d.stopPropagation(),this.imageIndices.set(t,o)}addToCart(t,o){o.stopPropagation(),this.cartService.addToCart(t,1),this.addedToCart.add(t.id),setTimeout(()=>{this.addedToCart.delete(t.id)},2e3)}getDiscountPercentage(t){return t.discountPrice?Math.round((t.price-t.discountPrice)/t.price*100):0}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=T({type:e,selectors:[["app-product-list"]],decls:7,vars:2,consts:[[1,"main-content"],[1,"container"],[1,"hero-banner","search-results"],[1,"hero-banner"],[1,"loading"],[1,"results-count"],[1,"spinner"],[1,"products-grid"],[1,"empty-state"],[1,"product-card",3,"added"],[1,"product-card"],[1,"discount-badge"],[1,"product-image-wrapper"],[1,"carousel-container"],["class","carousel-btn prev",3,"click",4,"ngIf"],[3,"routerLink"],[1,"product-image",3,"src","alt"],["class","carousel-btn next",3,"click",4,"ngIf"],[1,"image-indicators"],[1,"product-info"],[1,"product-category"],[1,"product-title-link",3,"routerLink"],[1,"product-title"],[1,"product-description"],[1,"product-rating"],[1,"stars"],[1,"reviews"],[1,"product-footer"],[1,"price-container"],[1,"current-price"],[1,"btn-add-cart",3,"click"],[1,"stock-warning"],[1,"carousel-btn","prev",3,"click"],[1,"carousel-btn","next",3,"click"],[1,"indicator",3,"active"],[1,"indicator",3,"click"],[1,"original-price"],[1,"current-price","discount"],[1,"empty-icon"]],template:function(o,d){o&1&&(n(0,"main",0)(1,"div",1),m(2,N,9,3,"div",2)(3,Y,5,0,"div",3)(4,q,4,0,"div",4)(5,at,2,1),i()(),M(6,"app-footer")),o&2&&(r(2),g(d.searchTerm?2:3),r(2),g(d.loading?4:5))},dependencies:[L,I,z,V],styles:[".main-content[_ngcontent-%COMP%]{min-height:calc(100vh - 200px);padding:var(--spacing-lg) 0 var(--spacing-xl);background:linear-gradient(to bottom,#f8f9fa,#fff)}.hero-banner[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,var(--primary-dark) 100%);padding:var(--spacing-xl);border-radius:var(--radius-lg);text-align:center;color:#fff;margin-bottom:var(--spacing-xl);box-shadow:var(--shadow-lg)}.hero-banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;margin:0 0 var(--spacing-sm) 0;font-weight:700}.hero-banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;margin:0;opacity:.95}.hero-banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--bronze-color);font-weight:700}.hero-banner.search-results[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-dark) 0%,var(--primary-color) 100%)}.hero-banner.search-results[_ngcontent-%COMP%]   .results-count[_ngcontent-%COMP%]{margin-top:var(--spacing-sm);font-size:16px;opacity:.9}.loading[_ngcontent-%COMP%]{text-align:center;padding:var(--spacing-xl) 0}.loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:50px;height:50px;margin:0 auto var(--spacing-md);border:4px solid rgba(45,95,122,.1);border-top-color:var(--primary-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:var(--text-secondary)}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.products-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:var(--spacing-lg);margin-bottom:var(--spacing-xl)}.product-card[_ngcontent-%COMP%]{background:#fff;border-radius:var(--radius-lg);overflow:hidden;box-shadow:0 2px 8px #00000014;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;display:flex;flex-direction:column}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 12px 24px #00000026}.product-card.added[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse .6s ease-in-out}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.discount-badge[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;background:linear-gradient(135deg,var(--accent-color) 0%,#c01050 100%);color:#fff;padding:6px 12px;border-radius:20px;font-weight:700;font-size:14px;z-index:1;box-shadow:0 4px 12px #ff6b6b66}.product-image-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:240px;overflow:hidden;background:#f8f9fa}.carousel-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.carousel-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;width:100%;height:100%;text-decoration:none}.carousel-btn[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:#fffffff2;border:none;width:32px;height:32px;border-radius:50%;font-size:20px;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:2;opacity:0;transition:all .3s ease;box-shadow:0 2px 8px #0003}.carousel-btn[_ngcontent-%COMP%]:hover{background:#fff;transform:translateY(-50%) scale(1.1)}.carousel-btn.prev[_ngcontent-%COMP%]{left:8px}.carousel-btn.next[_ngcontent-%COMP%]{right:8px}.product-card[_ngcontent-%COMP%]:hover   .carousel-btn[_ngcontent-%COMP%]{opacity:1}.image-indicators[_ngcontent-%COMP%]{position:absolute;bottom:8px;left:50%;transform:translate(-50%);display:flex;gap:6px;z-index:2}.image-indicators[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background:#ffffff80;cursor:pointer;transition:all .3s ease}.image-indicators[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]:hover{background:#fffc;transform:scale(1.2)}.image-indicators[_ngcontent-%COMP%]   .indicator.active[_ngcontent-%COMP%]{background:#fff;width:20px;border-radius:4px}.product-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .4s ease}.product-card[_ngcontent-%COMP%]:hover   .product-image[_ngcontent-%COMP%]{transform:scale(1.1)}.product-info[_ngcontent-%COMP%]{padding:var(--spacing-md);flex:1;display:flex;flex-direction:column;gap:var(--spacing-sm)}.product-category[_ngcontent-%COMP%]{display:inline-block;font-size:12px;font-weight:600;text-transform:uppercase;color:var(--primary-color);letter-spacing:.5px}.product-title-link[_ngcontent-%COMP%]{text-decoration:none;color:inherit;transition:color .2s ease}.product-title-link[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.product-title[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:var(--text-primary);line-height:1.3;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;transition:color .2s ease}.product-description[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:14px;line-height:1.5;margin:0;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;flex:1}.product-rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-xs);font-size:14px}.product-rating[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{color:var(--orange-color);font-weight:600}.product-rating[_ngcontent-%COMP%]   .reviews[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:13px}.product-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;gap:var(--spacing-sm);margin-top:var(--spacing-sm);padding-top:var(--spacing-sm);border-top:1px solid #e9ecef}.price-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.original-price[_ngcontent-%COMP%]{text-decoration:line-through;color:var(--text-secondary);font-size:13px}.current-price[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:var(--text-primary)}.current-price.discount[_ngcontent-%COMP%]{color:#e74c3c}.btn-add-cart[_ngcontent-%COMP%]{padding:10px 20px;background:linear-gradient(135deg,var(--primary-color) 0%,var(--primary-dark) 100%);color:#fff;border:none;border-radius:var(--radius-md);font-weight:600;font-size:14px;cursor:pointer;transition:all .3s ease;white-space:nowrap;box-shadow:0 4px 12px #2d5f7a4d}.btn-add-cart[_ngcontent-%COMP%]:hover:not(.added){transform:translateY(-2px);box-shadow:0 6px 16px #2d5f7a66}.btn-add-cart.added[_ngcontent-%COMP%]{background:linear-gradient(135deg,#06d6a0,#05b389);animation:_ngcontent-%COMP%_success .5s ease-in-out}.btn-add-cart[_ngcontent-%COMP%]:active{transform:scale(.98)}@keyframes _ngcontent-%COMP%_success{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.stock-warning[_ngcontent-%COMP%]{background:#fff3cd;color:#856404;padding:6px 10px;border-radius:var(--radius-sm);font-size:12px;font-weight:600;text-align:center;margin-top:var(--spacing-sm)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:var(--spacing-xl) var(--spacing-md)}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:var(--spacing-md)}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--text-primary);margin-bottom:var(--spacing-sm)}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:16px}@media (max-width: 1024px){.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:var(--spacing-md)}}@media (max-width: 768px){.hero-banner[_ngcontent-%COMP%]{padding:var(--spacing-lg)}.hero-banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}.hero-banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:var(--spacing-sm)}.product-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]{padding:var(--spacing-sm)}.product-title[_ngcontent-%COMP%]{font-size:16px}.current-price[_ngcontent-%COMP%]{font-size:20px}.btn-add-cart[_ngcontent-%COMP%]{padding:8px 12px;font-size:12px}}"]})}return e})();export{ft as ProductListComponent};
