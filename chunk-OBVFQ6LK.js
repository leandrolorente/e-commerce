import{b as i,c as h}from"./chunk-2PYGAOTR.js";import{Bb as n,J as a,O as c,ha as o}from"./chunk-VSPMBJVT.js";var l=(()=>{class s{http;API_URL="http://localhost:3000/api/products";productsSignal=o([]);loadingSignal=o(!1);products=this.productsSignal.asReadonly();loading=this.loadingSignal.asReadonly();productCount=n(()=>this.productsSignal().length);constructor(t){this.http=t}getProducts(t,e=1,p=20){let r=new i().set("page",e.toString()).set("pageSize",p.toString());return t&&(t.category&&(r=r.set("category",t.category)),t.minPrice&&(r=r.set("minPrice",t.minPrice.toString())),t.maxPrice&&(r=r.set("maxPrice",t.maxPrice.toString())),t.searchTerm&&(r=r.set("search",t.searchTerm)),t.sortBy&&(r=r.set("sortBy",t.sortBy)),t.sortOrder&&(r=r.set("sortOrder",t.sortOrder))),this.loadingSignal.set(!0),this.http.get(this.API_URL,{params:r})}getProductById(t){return this.http.get(`${this.API_URL}/${t}`)}createProduct(t){return this.http.post(this.API_URL,t)}updateProduct(t,e){return this.http.put(`${this.API_URL}/${t}`,e)}deleteProduct(t){return this.http.delete(`${this.API_URL}/${t}`)}searchProducts(t){let e=new i().set("search",t);return this.http.get(`${this.API_URL}/search`,{params:e})}static \u0275fac=function(e){return new(e||s)(c(h))};static \u0275prov=a({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();export{l as a};
